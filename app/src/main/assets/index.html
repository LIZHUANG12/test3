<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­æ–‡å°è¯´é”™åˆ«å­—ä¿®æ”¹æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "PingFang SC", "Microsoft YaHei", -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
        }

        /* Header Styles */
        .header-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            text-align: center;
            padding: 32px 24px;
            position: relative;
            overflow: hidden;
        }

        .header-gradient h1 {
            color: white;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            margin-top: 60px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .coins-icon {
            position: absolute;
            top: 16px;
            left: 16px;
            color: #ffd700;
            font-size: 24px;
            animation: bounce 2s infinite;
        }

        .top-right-controls {
            position: absolute;
            top: 16px;
            right: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .collect-btn {
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
            transition: all 0.3s ease;
        }

        .collect-btn:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        .gift-icon {
            color: #ffd700;
            font-size: 24px;
            animation: bounce 2s infinite;
            animation-delay: 0.5s;
        }

        /* Task List Styles */
        .task-list {
            padding: 0 16px 24px;
            margin-bottom: 100px;
        }

        .task-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
            border-radius: 12px;
            margin-bottom: 16px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .task-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 71, 87, 0.15);
        }

        .task-card-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .task-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .task-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
        }

        .task-icon.completed {
            background: #10b981;
        }

        .task-icon.pending {
            background: #3b82f6;
        }

        .task-details h3 {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .task-details p {
            font-size: 14px;
            color: #6b7280;
        }

        .task-details p.completed {
            color: #059669;
        }

        .task-right {
            text-align: right;
        }

        .task-reward {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .task-reward.completed {
            color: #059669;
        }

        .task-reward.pending {
            color: #ef4444;
        }

        .task-action-btn {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .task-action-btn.completed {
            background: #d1d5db;
            color: #6b7280;
            cursor: not-allowed;
        }

        .task-action-btn.pending {
            background: #3b82f6;
            color: white;
        }

        .task-action-btn.pending:hover {
            background: #2563eb;
        }

        /* Floating Stats */
        .floating-stats {
            position: fixed;
            bottom: 16px;
            left: 16px;
            right: 16px;
            display: flex;
            justify-content: space-between;
            gap: 8px;
        }

        .stat-card {
            background: white;
            border-radius: 20px;
            padding: 12px 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            justify-content: center;
        }

        .stat-icon {
            color: #f59e0b;
            font-size: 20px;
        }

        .stat-text {
            font-weight: 600;
            color: #1f2937;
            font-size: 14px;
        }

        /* Modal Styles */
        .modal-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px);
            z-index: 1000;
            padding: 16px;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            height: 100%;
            display: flex;
            flex-direction: column;
            color: #333;
            overflow: hidden;
            animation: redPacket 1s ease-out;
        }

        .modal-header {
            background: linear-gradient(to right, #ef4444, #ec4899);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-reward {
            color: #fde047;
            font-weight: 700;
            font-size: 18px;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-text-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            line-height: 1.8;
            font-size: 16px;
            background: #f9fafb;
            border-radius: 8px;
            margin: 20px;
            user-select: none;
            min-height: 400px;
        }

        .modal-text-content span {
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .modal-text-content span:hover {
            background: #fef3c7;
        }

        .modal-text-content span.clicked {
            background: #fecaca;
            color: #991b1b;
            font-weight: 600;
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid #e5e7eb;
            background: white;
            flex-shrink: 0;
        }

        .submit-btn {
            width: 100%;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
            min-height: 56px;
        }

        .submit-btn:hover {
            background: #059669;
        }

        .submit-btn:active {
            transform: scale(0.98);
        }

        /* Reward Notification */
        .reward-notification {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            background: linear-gradient(to right, #fbbf24, #f59e0b);
            color: #92400e;
            padding: 32px;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            text-align: center;
            animation: coinFlip 0.6s ease-in-out;
        }

        .reward-notification .coins-large {
            font-size: 48px;
            margin-bottom: 8px;
            animation: bounce 2s infinite;
        }

        .reward-notification h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .reward-notification .amount {
            font-size: 24px;
            font-weight: 700;
            color: #dc2626;
            margin-bottom: 4px;
        }

        .reward-notification .status {
            font-size: 14px;
        }

        /* Animations */
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% { transform: translateY(0); }
            40%, 43% { transform: translateY(-10px); }
            70% { transform: translateY(-5px); }
            90% { transform: translateY(-2px); }
        }

        @keyframes coinFlip {
            0% { transform: translate(-50%, -50%) rotateY(0deg) scale(1); opacity: 0; }
            50% { transform: translate(-50%, -50%) rotateY(180deg) scale(1.1); opacity: 1; }
            100% { transform: translate(-50%, -50%) rotateY(360deg) scale(1); opacity: 1; }
        }

        @keyframes redPacket {
            0% { transform: scale(0) rotate(-10deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(5deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        /* Icons */
        .icon {
            display: inline-block;
            width: 1em;
            height: 1em;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .modal-content {
                max-width: 500px;
                max-height: 90vh;
                margin: auto;
                height: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header-gradient">
            <div class="coins-icon">ğŸ’°</div>
            <div class="top-right-controls">
                <button class="collect-btn" onclick="handleResetTasks()">é¢†å–ä»»åŠ¡</button>
                <div class="gift-icon">ğŸ</div>
            </div>
            <h1>å°è¯´é”™åˆ«å­—ä¿®æ”¹</h1>
        </div>

        <!-- Task List -->
        <div class="task-list" id="taskList">
            <!-- Tasks will be dynamically generated -->
        </div>

        <!-- Floating Stats -->
        <div class="floating-stats">
            <div class="stat-card">
                <div class="stat-icon">ğŸ’³</div>
                <div class="stat-text">ä½™é¢: Â¥<span id="balance">30.00</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ†</div>
                <div class="stat-text">å·²å®Œæˆ: <span id="completed">0</span></div>
            </div>
        </div>
    </div>

    <!-- Task Modal -->
    <div class="modal-backdrop" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-reward">æŠ¥é…¬: Â¥<span id="modalReward">48.00</span></div>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-text-content" id="modalContent">
                <!-- Task content will be loaded here -->
            </div>
            <div class="modal-footer">
                <button class="submit-btn" onclick="submitTask()">
                    <span>âœ“</span>
                    æäº¤
                </button>
            </div>
        </div>
    </div>

    <!-- Reward Notification -->
    <div class="reward-notification" id="rewardNotification">
        <div class="coins-large">ğŸ’°</div>
        <h3>æ­å–œè·å¾—</h3>
        <div class="amount" id="rewardAmount">+48.00</div>
        <div class="status">å·²åˆ°è´¦</div>
    </div>

    <script>
        // ç”¨æˆ·æ•°æ®ï¼ˆå®Œå…¨æŒ‰ç…§çº¿ä¸Šç‰ˆæœ¬ï¼‰
        let userData = {
            id: 1,
            username: "default_user",
            balance: "960.00",
            completed: 20
        };

        // å®Œæ•´çš„20ä¸ª"éå¼ºè¿«å® çˆ±"ä»»åŠ¡æ•°æ®ï¼ˆä½¿ç”¨çº¿ä¸ŠçœŸå®æ•°æ®ï¼‰
        const chineseTexts = [
            {
                id: 1,
                content: `ç¬¬1ç«  éå¼ºè¿«
ä¸‹åˆä¸‰ç‚¹ï¼Œæ­£å€¼ç››å¤æœ€ç‚çƒ­çš„æ—¶é—´ã€‚å¤ªé˜³æ¯’è¾£åœ°çƒ¤ç€åœ°é¢ï¼Œç©ºæ°”é‡Œè”“å»¶ç€é˜µé˜µç¼æ„ï¼Œå³ä¾¿æ˜¯è¢«ç»¿è«å±‚å±‚ç¯ç»•çš„ç¿¡ç¿ æ¹–ï¼Œä»Šå¤©ä¼¼ä¹ä¹ŸæŠµæŒ¡ä¸ä½è¿™ä»½ç‡¥çƒ­ã€‚
"ä¸æ˜¯è¯´ä¸‹ä¸ªæ˜ŸæœŸçš„é£æœºå—ï¼Œæ€ä¹ˆæå‰å›æ¥äº†ï¼Ÿ"
"å¥¹åšäº‹éš¾é“è¿˜è¦è·Ÿæˆ‘ä»¬æå‰æŠ¥å¤‡ã€‚"
"è®©å¼€ï¼Œå¿«ç‚¹ï¼Œåˆ«æŒ¡ç€æˆ‘ï¼"
æ¹–å†…åˆ«å¢…åŒºå…­å¹¢ï¼Œä¸€ç¾¤äººåœ¨å¤§å…é‡Œæ¨ªå†²ç›´æ’ã€‚æ¥æ¥å¾€å¾€çš„æ··ä¹±é‡Œï¼Œä¸€ä¸ªå¾®èƒ–çš„ä¸­å¹´ç”·äººç«™åœ¨å®¢å…ä¸­å¤®ï¼Œä¸¥è‚ƒç¥æƒ…é‡ŒåŒæ ·ä¸éš¾çœ‹å‡ºå‡ åˆ†ç´§å¼ ã€‚
"éƒ½ç»™æˆ‘ä»”ç»†ç€ç‚¹ï¼"
"ç©ºè°ƒä¸èƒ½é«˜ä¹Ÿä¸èƒ½ä½ï¼Œä¸€å®šå¾—æ˜¯22åº¦ã€‚"
"æ¥¼æ¢¯çš„æ‰¶æ‰‹å†å»æ“¦ä¸€éã€‚"
"èŠ±æ‘†åˆ°æŒ‡å®šä½ç½®äº†æ²¡ï¼Ÿ"
æ­£è¯´ç€ï¼Œç”·äººè§†çº¿ä¸€è½¬ï¼Œè½åœ¨æ­£å‰æ–¹çš„è§‚æ™¯é±¼ç¼¸ä¸Šã€‚ä»–ç‹—å»ç€èº«ä½“å‡‘è¿‘ï¼Œå¾®é¡¿å‡ ç§’ï¼Œå¿½åœ°å¦‚ä¸´å¤§æ•Œåœ°æ‹”é«˜äº†å£°éŸ³ï¼Œ"æˆ‘ä¸æ˜¯è¯´äº†è¿™é‡Œçš„é±¼æ•°é‡ä¸€å®šå¾—æ˜¯6çš„å€æ•°å—ï¼Ÿæ€ä¹ˆåªæœ‰13æ¡ï¼"
ä½£äººçº·çº·ä¸Šå‰å›´è§‚ï¼Œæœ‰äººå¤§ç€èƒ†å­é—®ï¼š"ä¸ºä»€ä¹ˆä¸€å®šè¦6çš„å€æ•°ï¼Ÿ"
ä¸­å¹´ç”·äººæ°”å¾—æ‹ä»–å¤´ï¼Œ"é›‡ä¸»çš„è¦æ±‚è½®å¾—åˆ°ä½ é—®ä¸ºä»€ä¹ˆï¼Ÿèµ¶ç´§å»ä¹°5æ¡æ¥è¡¥ä¸Šï¼"

ç‚¹å‡»æ–‡æœ¬ä¸­ä»»æ„å­—ç¬¦å³å¯æäº¤ä»»åŠ¡ã€‚`,
                typos: [
                    { start: 329, end: 330, incorrect: "ç‹—", correct: "ä½" }
                ]
            },
            {
                id: 2,
                content: `ç¬¬2ç«  éå¼ºè¿«
åœ¨äº¬å¸‚åŠé—´çš„ä¼ é—»é‡Œï¼Œå‘¨æ—¶è¿å’Œè£´ç¥¤å®çš„å…³ç³»ä¸€ç›´å¾ˆå·®ï¼Œç”šè‡³åˆ°äº†æ°´ç«ä¸å®¹çš„åœ°æ­¥ã€‚
ä¸€ä¸ªæ˜¯è£´å®¶åƒé‡‘ï¼Œä¸€ä¸ªæ˜¯å‘¨å®¶å°‘çˆ·ï¼Œä¸¤å®¶éƒ½æ˜¯é¡¶çº§è±ªé—¨ï¼Œåœ¨äº¬å¸‚ä¹ƒè‡³æ•´ä¸ªå›½å†…æœ‰ç€ä¸¾è¶³è½»é‡çš„åˆ†é‡ï¼Œååä¸¤ä¸ªç»§æ‰¿äººå¸¸å¹´è¢«ä¼ ä¸å’Œã€‚
çœ¼ä¸‹ä¸¤äººåŒæ—¶å‡ºç°åœ¨æ‹å–æ´»åŠ¨ç°åœºï¼Œè§†å¯¹æ–¹ä¸ºç©ºæ°”ï¼Œè¿æ‹›å‘¼éƒ½ä¸æ‰“ä¸€å£°çš„å§¿æ€ä¹Ÿé—´æ¥åå®äº†å½¼æ­¤ä¸å’Œçš„æ¶ˆæ¯ã€‚
å¥½äº‹è€…ä»¬çº·çº·æ‹¿å‡ºæ‰‹æœºå¾€å¤–é€’æ¶ˆæ¯ã€‚
æ‹å–ä¼šå·²ç»å¼€å§‹ï¼Œä½†ä»Šæ™šå¤§å®¶çš„å…³æ³¨æ˜¾ç„¶å·²ç»åç¦»é‡ç‚¹ã€‚

æ‹å–ä¼šå®£å¸ƒå¼€å§‹ï¼Œå±•å…åæ’ä¹Ÿä¼ æ¥å¥½äº‹è€…è½»ç¬‘çš„å£°éŸ³â€”â€”
"å‘µï¼Œå‘¨æ—¶è¿å’Œè£´ç¥¤å®åŒæ—¶ç°èº«ï¼Œä»Šæ™šæœ‰å¥½æˆçœ‹äº†ã€‚"

ç‚¹å‡»æ–‡æœ¬ä¸­ä»»æ„å­—ç¬¦å³å¯æäº¤ä»»åŠ¡ã€‚`,
                typos: [
                    { start: 15, end: 16, incorrect: "åŠ", correct: "æˆ¿" }
                ]
            }
        ];

        // ç”Ÿæˆ20ä¸ªä»»åŠ¡
        let tasks = [];
        for (let i = 1; i <= 20; i++) {
            const textIndex = (i - 1) % 2;
            const text = chineseTexts[textIndex];
            tasks.push({
                id: i,
                userId: 1,
                textId: text.id,
                reward: "48.00",
                status: "completed", // é»˜è®¤æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆ
                foundTypos: 7,
                totalTypos: 7,
                timeSpent: 0
            });
        }

        let currentTask = null;
        let clickedChars = new Set();

        // åˆå§‹åŒ–åº”ç”¨ï¼ˆå®Œå…¨æŒ‰ç…§çº¿ä¸Šç‰ˆæœ¬é€»è¾‘ï¼‰
        function init() {
            // é»˜è®¤æ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡ä¸ºå·²å®ŒæˆçŠ¶æ€ï¼Œç¬¦åˆçº¿ä¸Šç‰ˆæœ¬ç”¨æˆ·æ•°æ®
            tasks.forEach(task => {
                task.status = 'completed';
            });
            userData.completed = 20;
            userData.balance = "960.00"; // 20ä¸ªä»»åŠ¡ Ã— 48.00 = 960.00
            updateUI();
            loadTasks();
        }

        // æ›´æ–°UIæ˜¾ç¤º
        function updateUI() {
            document.getElementById('balance').textContent = userData.balance;
            document.getElementById('completed').textContent = userData.completed;
        }

        // åŠ è½½ä»»åŠ¡åˆ—è¡¨
        function loadTasks() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = '';

            tasks.forEach((task, index) => {
                const isCompleted = task.status === 'completed';
                const taskElement = document.createElement('div');
                taskElement.className = 'task-card';
                taskElement.onclick = () => !isCompleted && openTask(task.id);
                
                taskElement.innerHTML = `
                    <div class="task-card-content">
                        <div class="task-left">
                            <div class="task-icon ${isCompleted ? 'completed' : 'pending'}">
                                ${isCompleted ? 'âœ“' : 'ğŸ“–'}
                            </div>
                            <div class="task-details">
                                <h3>éå¼ºè¿«å® çˆ±ç¬¬${task.id}ç« </h3>
                                <p class="${isCompleted ? 'completed' : ''}">
                                    ${isCompleted ? 'å·²å®Œæˆ - å·²åˆ°è´¦' : 'è¯·åœ¨è§„å®šæ—¶é—´å†…å®Œæˆ'}
                                </p>
                            </div>
                        </div>
                        <div class="task-right">
                            <div class="task-reward ${isCompleted ? 'completed' : 'pending'}">
                                +${task.reward}
                            </div>
                            <button class="task-action-btn ${isCompleted ? 'completed' : 'pending'}" 
                                    onclick="event.stopPropagation(); ${!isCompleted ? 'openTask(' + task.id + ')' : ''}"
                                    ${isCompleted ? 'disabled' : ''}>
                                ${isCompleted ? 'å·²å®Œæˆ' : 'è¿›è¡Œä¿®æ”¹'}
                            </button>
                        </div>
                    </div>
                `;
                
                taskList.appendChild(taskElement);
            });
        }

        // é¢†å–ä»»åŠ¡åŠŸèƒ½ï¼ˆé‡ç½®æ‰€æœ‰ä»»åŠ¡çŠ¶æ€ï¼‰
        function handleResetTasks() {
            // é‡ç½®æ‰€æœ‰ä»»åŠ¡ä¸ºpendingçŠ¶æ€
            tasks.forEach(task => {
                task.status = 'pending';
                task.foundTypos = 0;
            });
            
            // é‡ç½®ç”¨æˆ·æ•°æ®
            userData.balance = "0.00";
            userData.completed = 0;
            
            // æ›´æ–°UI
            updateUI();
            loadTasks();
            
            // æ˜¾ç¤ºé‡ç½®æç¤º
            showRewardNotification("ä»»åŠ¡å·²é‡ç½®");
        }

        // æ‰“å¼€ä»»åŠ¡æ¨¡æ€æ¡†
        function openTask(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (!task || task.status === 'completed') return;

            currentTask = task;
            clickedChars.clear();
            
            const textIndex = (taskId - 1) % 2;
            const text = chineseTexts[textIndex];
            
            document.getElementById('modalReward').textContent = task.reward;
            
            // å°†æ–‡æœ¬å†…å®¹è½¬æ¢ä¸ºå¯ç‚¹å‡»çš„å­—ç¬¦
            const content = text.content.replace(/ç¬¬[12]ç« /, `ç¬¬${taskId}ç« `);
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = content.split('').map((char, index) => 
                `<span onclick="handleCharClick(${index})">${char}</span>`
            ).join('');
            
            document.getElementById('taskModal').style.display = 'block';
        }

        // å¤„ç†å­—ç¬¦ç‚¹å‡»
        function handleCharClick(charIndex) {
            const spans = document.querySelectorAll('#modalContent span');
            const span = spans[charIndex];
            
            if (clickedChars.has(charIndex)) {
                clickedChars.delete(charIndex);
                span.classList.remove('clicked');
            } else {
                clickedChars.add(charIndex);
                span.classList.add('clicked');
            }
        }

        // å…³é—­æ¨¡æ€æ¡†
        function closeModal() {
            document.getElementById('taskModal').style.display = 'none';
            currentTask = null;
            clickedChars.clear();
        }

        // æäº¤ä»»åŠ¡
        function submitTask() {
            if (!currentTask) return;

            // æ£€æŸ¥æ˜¯å¦ç‚¹å‡»äº†æ–‡æœ¬å­—ç¬¦
            if (clickedChars.size === 0) {
                alert('è¯·å…ˆç‚¹å‡»æ–‡æœ¬ä¸­çš„å­—ç¬¦å†æäº¤');
                return;
            }

            // æ ‡è®°ä»»åŠ¡ä¸ºå·²å®Œæˆ
            currentTask.status = 'completed';
            currentTask.foundTypos = clickedChars.size;
            
            // æ›´æ–°ç”¨æˆ·ä½™é¢å’Œå®Œæˆæ•°ï¼ˆå›ºå®šå¥–åŠ±48.00ï¼‰
            const currentBalance = parseFloat(userData.balance);
            const reward = 48.00;
            userData.balance = (currentBalance + reward).toFixed(2);
            userData.completed++;
            
            // ä¿å­˜å½“å‰ä»»åŠ¡å¥–åŠ±ç”¨äºæ˜¾ç¤º
            const taskReward = currentTask.reward;
            
            // å…³é—­æ¨¡æ€æ¡†
            closeModal();
            
            // é‡æ–°åŠ è½½ä»»åŠ¡åˆ—è¡¨
            loadTasks();
            updateUI();
            
            // æ˜¾ç¤ºå¥–åŠ±é€šçŸ¥
            showRewardNotification(taskReward);
        }

        // æ˜¾ç¤ºå¥–åŠ±é€šçŸ¥
        function showRewardNotification(amount) {
            document.getElementById('rewardAmount').textContent = amount.startsWith('+') ? amount : `+${amount}`;
            const notification = document.getElementById('rewardNotification');
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('load', init);
    </script>
</body>
</html>
